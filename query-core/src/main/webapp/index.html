<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>ICOS Spain Carbon Data Portal</title>

		<link rel="shortcut icon" href="img/icos.ico" />
		<link rel="stylesheet" type="text/css" href="js/ext4/resources/css/ext-all-gray.css" />
		<link rel="stylesheet" type="text/css" href="css/dataportal.css" />

		<script type="text/javascript" src="js/openlayers/lib/OpenLayers.js"></script>
        <script type="text/javascript" src="js/ext4/ext-all-debug-w-comments.js"></script>
        <script type="text/javascript" src="js/ext4/compatibility/ext3-core-compat.js"></script>
        <script type="text/javascript" src="js/ext4/compatibility/ext3-compat.js"></script>
		<script type="text/javascript" src="js/GeoExt/lib/GeoExt.js"></script>	
        <script type="text/javascript" src="js/md5-min.js"></script>

        <script type="text/javascript" src="js/OpenLayers.Format.BBOXes.js"></script>
        <script type="text/javascript" src="js/OpenLayers.Control.DeleteFeature.js"></script>
        <script type="text/javascript" src="js/OpenLayers.Strategy.DrawTinyFeaturesAsPoints.js"></script>
        <script type="text/javascript" src="js/App.js"></script>
        <script type="text/javascript" src="js/Authentication.js"></script>
        <script type="text/javascript" src="js/query.Identifier.js"></script>
		<script type="text/javascript" src="js/query.Form.js"></script>
        <script type="text/javascript" src="js/query.Map.js"></script>
		<script type="text/javascript" src="js/result.Grid.js"></script>
		<script type="text/javascript" src="js/result.Map.js"></script>
		<script type="text/javascript" src="js/download.Panel.js"></script>

        <!-- script type="text/javascript" src="js/locale/App-en.js"></script>
        <script type="text/javascript" src="js/locale/App-es.js"></script>
        <script type="text/javascript" src="js/locale/App-ca.js"></script-->

		<script type="text/javascript">
		var app;

		/*
		TODO LIST:
            * result.Grid expander
            * result.Map

            * Download.Panel::send (Post something...)
            * App::doLoadDataset (propagate items to Download Panel)
            
		    * result.Grid -> response error control
            * i18n
            * Finally... styles
		*/
		//Ext.Compat.showErrors = true;
		
		Ext.onReady(function(){
		    /*
            GeoExt.Lang.set(OpenLayers.Util.getParameters()["lang"] || GeoExt.Lang.locale);
            Ext.Ajax.request({
                url: Ext.String.format("js/ext3/locale/ext-lang-{0}.js", GeoExt.Lang.locale),
                success: function(response, opts) {
                    Ext.Ajax.request({
                        url: "locale?lang="+GeoExt.Lang.locale
                    })
                    eval(response.responseText); // Eval Ext3 locale file.
                    app = new App();
                },
                failure: function() {
                    // No locale file found. Defaults to English.
                    GeoExt.Lang.set("en");
                    app = new App();
                }
            })
            */
            app = new App();
	    });
		</script>
	</head>
	<body>
		<div id="header">
			 <img src="img/icos-logo.png"/>
			 <div id="title">ICOS Spain Carbon Data Portal</div>
			 <div id="notLoggedLinks">
			     <a href="javascript:void(0);" id="login">Login</a> / <a href="javascript:void(0);" id="createUser">Sign up</a>
			 </div>
             <div id="loggedLinks" style="display:none">
                 <a href="javascript:void(0);" id="logout">Logout</a> / <a href="javascript:void(0);" id="updateUser">Change password</a>
             </div>
		</div>
    </body>
</html>
